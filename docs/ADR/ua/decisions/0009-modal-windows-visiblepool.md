# 0009. Реалізація модальних вікон через VisiblePool

- **Status:** Accepted
- **Date:** 27.05.2025
- **Author:** Алекс Данько

## Context

Для Music Manager потрібна система модальних вікон, яка забезпечить:
- Типобезпечність
- Легке управління станом

## Decision

Прийнято використовувати VisiblePool для управління модальними вікнами.

1. **Архітектура системи**
   - Централізований store для управління станом модальних вікон
   - Система чергування для контролю z-index
   - Механізм блокування фокусу на активному модальному вікні
   - Підтримка вкладених модальних вікон
   - Типізований API через TypeScript

2. **Технічні переваги**
   - Простий API для розробників
   - Підтримка різних типів модальних вікон (діалоги, сповіщення, форми)
   - Гнучка система конфігурації

3. **Порівняння з альтернативами**
   - Vue Modal: обмежена функціональність, відсутність типізації
   - Vue Final Modal: складний API, надлишкова функціональність
   - Власна реалізація: повний контроль, оптимізована під потреби проекту

## Consequences
- Централізоване управління модальними вікнами
- Типобезпечний API через TypeScript
- Легке тестування через ізольований store
- Можливість вкладення модальних вікон
- Контроль z-index та фокусу
- Потенційні проблеми з доступністю
- Потенційні проблеми з SSR

## Improvements
- Додавання ARIA-атрибутів для доступності